<!DOCTYPE html>
<html>

	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
		<title>OnSlyde - The Presentation Management Software</title>
		<script src="jquery.js"></script>
		<script src="http://localhost:8080/socket.io/socket.io.js"></script>
		
		<!-- Interaction -->
		<!-- **************************************************************** -->
		<script type="text/javascript">
		
			// Button Handlers
			// --------------------------------------------------------------
			$(document).ready(function()
			{
				// Declare variables
				//var slide_controller = new SlideController();
				
				// Create SocketIO instance, connect
				var socket = io.connect('http://localhost:8080');
				
				// Add a connect listener
				socket.on('connect',function() 
				{
					console.log('Client has connected to the server!');
				});
				
				// Add a connect listener
				socket.on('message',function(data) 
				{
					console.log('Received a message from the server!',data);
				});
				
				// Add a disconnect listener
				socket.on('disconnect',function() 
				{
					console.log('The client has disconnected!');
				});
				
				// Sends a message to the server via sockets
				function sendMessageToServer(message) 
				{
					socket.send(message);
				}

			
				// Feedback buttons
			    $('#feedback_button_1').click(function()
			    {
			        console.log('feedback_button_1');
			    });
			    
			    $('#feedback_button_2').click(function()
			    {
			        console.log('feedback_button_2');
			    });
			    
			    $('#feedback_button_3').click(function()
			    {
			        console.log('feedback_button_3');
			    });
			    
			    $('#feedback_button_4').click(function()
			    {
			        console.log('feedback_button_4');
			    });
			    
			    
			    // Slide control buttons
			    $('#start_button').click(function()
			    {
			        console.log('start_button');
			        var message = 	{
			        					"protocol": "onslyde",
			        					"version": "1",
			        					"seq_number": "1",
			        					"message_type": "state_control",
			        					"message_function": "start_presentation",
			        					"message_body":
			        					{
			        						"example": "TEST"
			        					}
								    };
			        socket.send(JSON.stringify(message));
			    });
			    
			    $('#restart_button').click(function()
			    {
			        console.log('restart_button');
			        var message = 	{
			        					"protocol": "onslyde",
			        					"version": "1",
			        					"seq_number": "1",
			        					"message_type": "state_control",
			        					"message_function": "restart_presentation",
			        					"message_body":
			        					{
			        						"example": "TEST"
			        					}
								    };
			        socket.send(JSON.stringify(message));
			    });
			    
			    $('#first_slide_button').click(function()
			    {
			        console.log('first_slide_button');
			        var message = 	{
			        					"protocol": "onslyde",
			        					"version": "1",
			        					"seq_number": "1",
			        					"message_type": "state_control",
			        					"message_function": "get_first_slide",
			        					"message_body":
			        					{
			        						"example": "TEST"
			        					}
								    };
			        socket.send(JSON.stringify(message));
			    });
			    
			    $('#last_slide_button').click(function()
			    {
			        console.log('last_slide_button');
			        var message = 	{
			        					"protocol": "onslyde",
			        					"version": "1",
			        					"seq_number": "1",
			        					"message_type": "state_control",
			        					"message_function": "get_last_slide",
			        					"message_body":
			        					{
			        						"example": "TEST"
			        					}
								    };
			        socket.send(JSON.stringify(message));
			    });
			    
			    $('#next_slide_button').click(function()
			    {
			        console.log('next_slide_button');
			        var message = 	{
			        					"protocol": "onslyde",
			        					"version": "1",
			        					"seq_number": "1",
			        					"message_type": "state_control",
			        					"message_function": "get_next_slide",
			        					"message_body":
			        					{
			        						"example": "TEST"
			        					}
								    };
			        socket.send(JSON.stringify(message));
			    });
			    
			    $('#previous_slide_button').click(function()
			    {
			        console.log('previous_slide_button');
			        var message = 	{
			        					"protocol": "onslyde",
			        					"version": "1",
			        					"seq_number": "1",
			        					"message_type": "state_control",
			        					"message_function": "get_previous_slide",
			        					"message_body":
			        					{
			        						"example": "TEST"
			        					}
								    };
			        socket.send(JSON.stringify(message));
			    });
			    
			    $('#current_slide_button').click(function()
			    {
			        console.log('current_slide_button');
			        var message = 	{
			        					"protocol": "onslyde",
			        					"version": "1",
			        					"seq_number": "1",
			        					"message_type": "state_control",
			        					"message_function": "get_current_slide",
			        					"message_body":
			        					{
			        						"example": "TEST"
			        					}
								    };
			        socket.send(JSON.stringify(message));
			    });
			    
			    // Branch control buttons
			    $('#last_branch_button').click(function()
			    {
			        console.log('last_branch_button');
			        var message = 	{
			        					"protocol": "onslyde",
			        					"version": "1",
			        					"seq_number": "1",
			        					"message_type": "state_control",
			        					"message_function": "get_last_branch",
			        					"message_body":
			        					{
			        						"example": "TEST"
			        					}
								    };
			        socket.send(JSON.stringify(message));
			    });
			
			});
			
		</script>
		
	</head>

	<body>
		<h2>Presentation State Machine</h2>
		
		
		<!-- Scratch Pad -->
		<!-- **************************************************************** -->
		<label>Start Scratch</label>
		<br />
		
		
		
		<label>End Scratch</label>
		<br />
		<br />
		<br />
		<!-- **************************************************************** -->
		
		
		<!-- Current State -->
		<!-- **************************************************************** -->
		<label>Current State</label>
		<br />
		<textarea rows="4" cols="120" readonly="readonly">This is the current state.</textarea>
		<br />
		<br />
		
		
		<!-- Previous State -->
		<!-- **************************************************************** -->
		<label>Previous State</label>
		<br />
		<textarea rows="4" cols="120" readonly="readonly">This is the previous state.</textarea>
		<br />
		<br />
		
		
		<!-- Feedback -->
		<!-- **************************************************************** -->
		<label>Feedback</label>
		<br />
		<button type="button" disabled="true" id="feedback_button_1">Option 1</button>
		<button type="button" disabled="true" id="feedback_button_2">Option 2</button>
		<button type="button" disabled="true" id="feedback_button_3">Option 3</button>
		<button type="button" disabled="true" id="feedback_button_4">Option 4</button>
		<br />
		<br />
		
		
		<!-- State Controller -->
		<!-- **************************************************************** -->
		<label>State Controller</label>
		<br />
		
		<button type="button" id="start_button">Start</button>
		<button type="button" id="restart_button">Restart</button>
		<button type="button" id="first_slide_button">First Slide</button>
		<button type="button" id="last_slide_button">Last Slide</button>
		<button type="button" id="next_slide_button">Next Slide</button>
		<button type="button" id="previous_slide_button">Previous Slide</button>
		<button type="button" id="current_slide_button">Current Slide</button>
		<br />
		<br />
		<label>Choose Branch</label>
		<br />
		<select>
		  <option value="Branch 1" disabled="true">Branch 1</option>
		  <option value="Branch 2" disabled="true">Branch 2</option>
		</select>
		<button type="button" id="last_branch_button">Last Branch</button>
		<br />
		<br />
		
	</body>
</html>